<div class="market-page">
    <div class="container">
        <div class="page-header">
            <h2>Thị trường Crypto</h2>
            <p>Theo dõi giá và biến động của các loại tiền điện tử hàng đầu</p>
        </div>

        <!-- Desktop Table View -->
        <div class="market-table-wrapper market-desktop-view">
            <table class="market-table">
                <thead>
                    <tr>
                        <th>Tên</th>
                        <th>Giá</th>
                        <th>24h</th>
                        <th>7 ngày</th>
                        <th>Vốn hóa</th>
                        <th>Hành động</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each coins}}
                    <tr data-coin-id="{{this.coin_id}}">
                        <td data-label="Tên">
                            <div class="crypto-name">
                                <div class="crypto-icon">{{this.symbol}}</div>
                                <div>
                                    <div>{{this.name}}</div>
                                    <small class="crypto-symbol">{{this.symbol}}</small>
                                </div>
                            </div>
                        </td>
                        <td data-label="Giá"><strong>-</strong></td>
                        <td data-label="24h" data-change-24h>-</td>
                        <td data-label="7 ngày" data-change-7d>-</td>
                        <td data-label="Vốn hóa">-</td>
                        <td><a href="/trading?coin={{this.symbol}}" class="btn-trade">Giao dịch</a></td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>

        <!-- Mobile Card View -->
        <div class="market-cards-wrapper market-mobile-view">
            <div class="market-cards-grid">
                {{#each coins}}
                <div class="market-card" data-coin-id="{{this.coin_id}}">
                    <div class="market-card-header">
                        <div class="crypto-name">
                            <div class="crypto-icon">{{this.symbol}}</div>
                            <div>
                                <div class="card-name">{{this.name}}</div>
                                <small class="crypto-symbol">{{this.symbol}}</small>
                            </div>
                        </div>
                    </div>
                    <div class="market-card-body">
                        <div class="card-row">
                            <span class="card-label">Giá:</span>
                            <span class="card-value price-value"><strong>-</strong></span>
                        </div>
                        <div class="card-row">
                            <span class="card-label">24h:</span>
                            <span class="card-value change-24h" data-change-24h>-</span>
                        </div>
                        <div class="card-row">
                            <span class="card-label">7 ngày:</span>
                            <span class="card-value change-7d" data-change-7d>-</span>
                        </div>
                        <div class="card-row">
                            <span class="card-label">Vốn hóa:</span>
                            <span class="card-value marketcap-value">-</span>
                        </div>
                    </div>
                    <div class="market-card-footer">
                        <a href="/trading?coin={{this.symbol}}" class="btn-trade btn-trade-card">Giao dịch</a>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>

        {{#if pagination.mobile}}
        <div class="market-pagination">
            {{#if pagination.hasPrev}}
            <a href="/market?page={{pagination.prevPage}}" class="pagination-btn">← Trang trước</a>
            {{/if}}
            <span class="pagination-info">Trang {{pagination.currentPage}} / {{pagination.totalPages}}</span>
            {{#if pagination.hasNext}}
            <a href="/market?page={{pagination.nextPage}}" class="pagination-btn">Trang tiếp theo →</a>
            {{/if}}
        </div>
        {{/if}}
    </div>
</div>

{{#section "script"}}
    <script src="/js/mainweb.js"></script>
    <script src="/js/market.js"></script>
{{/section}}